<div class="space-y-6 bg-gray-800 rounded-lg">
    <h2 class="text-xl font-semibold text-center text-white">Iniciar sesión</h2>

    <!-- Cambiamos a Reactive Forms -->
    <form [formGroup]="loginForm" class="space-y-4">

        <!-- Email -->
        <div>
            <label for="email" class="block text-sm font-medium text-gray-300">Email</label>
            <input type="email" id="email" formControlName="email" placeholder="correo@ejemplo.com"
                class="w-full px-4 py-2 border border-gray-600 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-400"
                required />

            <!-- Validaciones -->
            <div *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid"
                class="text-sm text-red-400 mt-1">
                <div *ngIf="loginForm.get('email')?.errors?.['required']">El correo es obligatorio.</div>
                <div *ngIf="loginForm.get('email')?.errors?.['email']">Correo inválido, debe contener &#64;.</div>
            </div>
        </div>

        <!-- Contraseña -->
        <div class="relative">

            <label for="password" class="block text-sm font-medium text-gray-300">Contraseña</label>
            <input [type]="isPasswordVisible ? 'text' : 'password'" id="password" formControlName="password"
                placeholder="Contraseña"
                class="w-full px-4 py-2 border border-gray-600 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-400"
                required />

            <button type="button" class="absolute top-7 right-5 text-gray-400 hover:text-white cursor-pointer"
                (click)="togglePasswordVisibility()">
                <span class="material-icons">
                    {{ isPasswordVisible ? 'visibility_off' : 'visibility' }}
                </span>
            </button>

            <!-- Validaciones -->
            <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid"
                class="text-sm text-red-400 mt-1">
                <div *ngIf="loginForm.get('password')?.errors?.['required']">
                    La contraseña es obligatoria.
                </div>
                <div *ngIf="loginForm.get('password')?.errors?.['minlength']">
                    Mínimo 8 caracteres.
                </div>
                <div *ngIf="loginForm.get('password')?.errors?.['maxlength']">
                    Maximo 15 caracteres.
                </div>
            </div>


        </div>

        <!-- Botón de enviar -->
        <button (click)="login()"
            class="w-full py-2 bg-transparent text-white border border-white rounded-lg hover:bg-white hover:text-gray-900 transition focus:outline-none focus:ring-1 focus:ring-white cursor-pointer">
            Iniciar sesión
        </button>
        <button (click)="loginTest('test10@gmail.com', '12345678')"
            class="w-full py-2 bg-transparent text-white border border-white rounded-lg hover:bg-white hover:text-gray-900 transition focus:outline-none focus:ring-1 focus:ring-white cursor-pointer">
            Iniciar sesión test10
        </button>
        <button (click)="loginTest('test20@gmail.com', '12345678')"
            class="w-full py-2 bg-transparent text-white border border-white rounded-lg hover:bg-white hover:text-gray-900 transition focus:outline-none focus:ring-1 focus:ring-white cursor-pointer">
            Iniciar sesión test20
        </button>
        <button (click)="loginTest('test30@gmail.com', '12345678')"
            class="w-full py-2 bg-transparent text-white border border-white rounded-lg hover:bg-white hover:text-gray-900 transition focus:outline-none focus:ring-1 focus:ring-white cursor-pointer">
            Iniciar sesión test30
        </button>



        <!-- Mensaje de error o éxito -->
        <div *ngIf="message" [ngClass]="isError ? 'bg-red-500' : 'bg-green-500'"
            class="text-white text-center px-4 py-2 rounded-md">
            {{ message }}
        </div>
    </form>
</div>